##
## Simple buildup configuration file for the Wercker-CI service http://devcenter.wercker.com/articles/werckeryml/
##
##
box: wercker/python

build:
  steps:
    - install-packages:
        packages: "gfortran make cmake libblas-dev liblapack-dev"

    - pip-install:
        requirements_file: ""
        packages_list: "pytest"

    - script:
        name: show system resources
        code: |
          lscpu
          df -h
          free -m

    - script:
        name: run and setup configuration script
        code: |
          python ./setup.py --fc=gfortran 

    - script:
        name: build and test
        code: |
          cd build
          ## 
          make      
          ## ldd : show dependencies
          ldd bin/example
          ## true 
          bin/example                                    

## turn off email notifications
notifications:
        email: false
